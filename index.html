<!DOCTYPE html>
<html lang="en" data-theme="system">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Living Water Church</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- CSS VARIABLES --- */
        :root {
            --primary: #0077be; /* Ocean Blue */
            --primary-hover: #005f9e;
            --text-light: #ffffff;
            --text-dark: #333333;
            --bg-light: #ffffff;
            --bg-dark: #121212;
            --bg-section-alt-light: #f4f4f4;
            --bg-section-alt-dark: #1e1e1e;
            --border-radius: 8px;
            --transition: all 0.3s ease;
        }

        /* --- GLOBAL RESETS --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.6;
            transition: var(--transition);
        }

        /* --- THEME HANDLING --- */
        [data-theme="dark"] body {
            background-color: var(--bg-dark);
            color: var(--text-light);
        }
        [data-theme="dark"] .bg-alt {
            background-color: var(--bg-section-alt-dark);
        }
        [data-theme="dark"] header {
            background-color: var(--bg-dark);
            border-bottom: 1px solid #333;
        }
        [data-theme="dark"] .dropdown-menu {
            background-color: var(--bg-dark);
            border: 1px solid #333;
        }
        [data-theme="dark"] .dropdown-menu a {
            color: var(--text-light);
        }
        [data-theme="dark"] .faq-box {
            background-color: var(--primary); 
        }

        /* --- BUTTONS --- */
        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: var(--border-radius);
            font-weight: bold;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }
        
        .btn:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
        }

        /* --- HEADER --- */
        header {
            position: sticky; 
            top: 0; 
            background-color: #fff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 5%;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
        }

        .logo-circle {
            width: 50px;
            height: 50px;
            background-color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
            overflow: hidden;
            position: relative;
        }
        
        .logo-circle::after {
            content: "~~~~";
            position: absolute;
            bottom: 5px;
            color: rgba(255,255,255,0.5);
            font-size: 20px;
            line-height: 10px;
        }

        .logo-text {
            font-family: 'Pacifico', cursive;
            font-size: 1.2rem;
            color: var(--primary);
        }

        /* --- NEW THEME TOGGLE (Segmented Control) --- */
        .controls {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .theme-switch-wrapper {
            display: flex;
            background-color: #eee;
            border-radius: 50px;
            padding: 4px;
            border: 1px solid #ccc;
        }
        
        [data-theme="dark"] .theme-switch-wrapper {
            background-color: #333;
            border-color: #444;
        }

        .theme-switch-btn {
            background: none;
            border: none;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            color: #666;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        [data-theme="dark"] .theme-switch-btn {
            color: #aaa;
        }

        /* Active State for Theme Button */
        .theme-switch-btn.active {
            background-color: var(--primary);
            color: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* --- NAVIGATION --- */
        .nav-menu {
            display: flex;
            align-items: center;
            gap: 20px;
            list-style: none;
        }

        .nav-item { position: relative; }

        .nav-link {
            text-decoration: none;
            color: inherit;
            font-weight: 500;
            cursor: pointer;
            padding: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .nav-link:hover { color: var(--primary); }

        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background-color: white;
            min-width: 220px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            border-radius: var(--border-radius);
            padding: 10px 0;
            list-style: none;
            z-index: 1001;
        }

        .dropdown-menu.active { display: block; }

        .dropdown-menu li a {
            display: block;
            padding: 10px 20px;
            text-decoration: none;
            color: var(--text-dark);
            transition: background 0.2s;
        }

        .dropdown-menu li a:hover {
            background-color: rgba(0, 119, 190, 0.1);
        }

        .hamburger {
            display: none;
            cursor: pointer;
            font-size: 1.5rem;
        }

        /* --- HERO --- */
        #home {
            position: relative;
            height: 80vh;
            background-color: #ddd;
            background-image: url('https://placehold.co/1920x1080?text=Church+Gathering+Photo');
            background-size: cover;
            background-position: center;
        }

        .hero-overlay-text {
            position: absolute;
            bottom: 40px;
            left: 40px;
            background-color: rgba(0,0,0,0.6);
            color: white;
            padding: 20px;
            border-radius: var(--border-radius);
            font-size: 2rem;
            font-weight: bold;
            max-width: 600px;
        }

        /* --- CONTENT SECTIONS --- */
        .content-section {
            padding: 60px 10%;
            display: flex;
            align-items: center;
            gap: 50px;
        }
        
        .bg-alt { background-color: var(--bg-section-alt-light); }

        .content-text { flex: 1; }
        .content-text h2 { font-size: 2.5rem; color: var(--primary); margin-bottom: 20px; }
        .content-text p { font-size: 1.1rem; margin-bottom: 20px; }
        .content-img { flex: 1; }
        .content-img img {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: var(--border-radius);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .reverse { flex-direction: row-reverse; }

        /* --- JOIN US (UPDATED ALIGNMENT) --- */
        #join-us {
            padding: 60px 10%;
            text-align: center;
        }

        #join-us h2 { font-size: 2.5rem; color: var(--primary); margin-bottom: 10px; }
        .join-subtext { max-width: 700px; margin: 0 auto 40px auto; }

        .join-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: stretch; /* Forces cards to equal height */
        }

        .join-card {
            /* Flex Column to push button to bottom */
            display: flex;
            flex-direction: column;
            height: 100%; 
        }

        .join-card img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
        }

        .join-card h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* This pushes the button to the bottom of the card */
        .join-card .btn {
            margin-top: auto;
            align-self: center; /* Centers button horizontally */
        }

        /* --- FAQ --- */
        #faq {
            background-color: var(--primary);
            color: white;
            padding: 60px 10%;
            text-align: center;
        }
        #faq h2 { font-size: 2.5rem; margin-bottom: 10px; }
        .faq-sub { margin-bottom: 40px; font-size: 1.1rem; }
        .accordion { max-width: 800px; margin: 0 auto; text-align: left; }
        .accordion-item {
            background-color: rgba(255,255,255,0.1);
            border-bottom: 1px solid rgba(255,255,255,0.2);
            margin-bottom: 10px;
            border-radius: var(--border-radius);
        }
        .accordion-header {
            width: 100%; padding: 20px; background: none; border: none; color: white;
            font-size: 1.1rem; font-weight: bold; text-align: left; cursor: pointer;
            display: flex; justify-content: space-between; align-items: center;
        }
        .accordion-content {
            max-height: 0; overflow: hidden; padding: 0 20px;
            transition: max-height 0.3s ease, padding 0.3s ease;
            background-color: rgba(0,0,0,0.1);
        }
        .accordion-content p { padding-bottom: 20px; }
        .accordion-item.active .accordion-content { max-height: 200px; padding-top: 10px; }
        .accordion-item.active .accordion-header i { transform: rotate(180deg); }

        /* --- SERMON --- */
        #sermon { padding: 60px 10%; display: flex; align-items: center; gap: 50px; }
        .sermon-text { flex: 1; }
        .sermon-text h3 { color: var(--primary); font-size: 1.5rem; text-transform: uppercase; margin-bottom: 10px;}
        .sermon-text p { font-size: 1.2rem; margin-bottom: 20px; }
        .sermon-video { flex: 1; }
        .video-wrapper {
            position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;
            border-radius: var(--border-radius); background: #000;
        }
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }

        /* --- FOOTER --- */
        footer {
            background-color: #f9f9f9; padding: 40px 10%; border-top: 4px solid var(--primary);
            text-align: center; color: var(--text-dark);
        }
        [data-theme="dark"] footer { background-color: #1a1a1a; color: var(--text-light); }
        .social-icons { margin-bottom: 20px; }
        .social-icons a { color: var(--primary); font-size: 2rem; margin: 0 15px; transition: transform 0.2s; display: inline-block; }
        .social-icons a:hover { transform: scale(1.1); }

        /* --- BACK TO TOP --- */
        #backToTop {
            position: fixed; bottom: 30px; right: 30px; background-color: var(--primary);
            color: white; width: 50px; height: 50px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; border: none; font-size: 1.5rem; opacity: 0;
            pointer-events: none; transition: opacity 0.3s; z-index: 999;
        }
        #backToTop.show { opacity: 1; pointer-events: all; }

        /* --- MOBILE --- */
        @media (max-width: 900px) {
            .hamburger { display: block; color: var(--text-dark); }
            [data-theme="dark"] .hamburger { color: var(--text-light); }
            
            /* Hide the fancy toggle on mobile? Or keep it. Keeping it next to hamburger. */
            .controls { gap: 10px; }
            .theme-switch-btn { padding: 4px 8px; font-size: 0.7rem; }

            .nav-menu {
                position: fixed; top: 80px; left: -100%; flex-direction: column;
                background-color: white; width: 100%; height: calc(100vh - 80px);
                padding: 20px; transition: 0.3s; overflow-y: auto;
            }
            [data-theme="dark"] .nav-menu { background-color: var(--bg-dark); }
            .nav-menu.active { left: 0; }
            .dropdown-menu { position: static; width: 100%; box-shadow: none; background-color: rgba(0,0,0,0.05); }
            [data-theme="dark"] .dropdown-menu { background-color: rgba(255,255,255,0.05); }
            .content-section, .join-grid, #sermon { flex-direction: column; text-align: center; }
            .content-section.reverse { flex-direction: column; }
            .hero-overlay-text { left: 20px; right: 20px; font-size: 1.5rem; bottom: 20px; }
            .join-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <header>
        <a href="/" class="logo-container">
            <div class="logo-circle">LWC</div>
            <div class="logo-text">Living Water Church</div>
        </a>

        <div class="controls">
            <div class="theme-switch-wrapper">
                <button class="theme-switch-btn" onclick="setTheme('light')" id="btn-light">Light</button>
                <button class="theme-switch-btn" onclick="setTheme('dark')" id="btn-dark">Dark</button>
                <button class="theme-switch-btn active" onclick="setTheme('system')" id="btn-system">System</button>
            </div>
            
            <div class="hamburger" id="hamburger">
                <i class="fas fa-bars"></i>
            </div>
        </div>

        <ul class="nav-menu" id="navMenu">
            <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
            
            <li class="nav-item">
                <a href="javascript:void(0)" class="nav-link dropdown-toggle">New Here <i class="fas fa-chevron-down"></i></a>
                <ul class="dropdown-menu">
                    <li><a href="/what-to-expect/">What to Expect</a></li>
                    <li><a href="/locations/">Locations + Service Times</a></li>
                    <li><a href="/who-we-are/">Who We Are</a></li>
                    <li><a href="/meet-the-team/">Meet the Team</a></li>
                    <li><a href="/contact-us/">Contact Us</a></li>
                </ul>
            </li>

            <li class="nav-item">
                <a href="javascript:void(0)" class="nav-link dropdown-toggle">Next Steps <i class="fas fa-chevron-down"></i></a>
                <ul class="dropdown-menu">
                    <li><a href="/salvation/">Salvation</a></li>
                    <li><a href="/water-baptism/">Water Baptism</a></li>
                    <li><a href="/serve/">Serve</a></li>
                    <li><a href="/life-groups/">Life Groups</a></li>
                    <li><a href="/global-outreach/">Global Outreach Trips</a></li>
                </ul>
            </li>

            <li class="nav-item">
                <a href="javascript:void(0)" class="nav-link dropdown-toggle">Ministries <i class="fas fa-chevron-down"></i></a>
                <ul class="dropdown-menu">
                    <li><a href="/kids/">Kids</a></li>
                    <li><a href="/youth/">Youth</a></li>
                    <li><a href="/young-adults/">Young Adults</a></li>
                    <li><a href="/legacy/">Legacy</a></li>
                </ul>
            </li>

            <li class="nav-item"><a href="/events/" class="nav-link">Events</a></li>
            <li class="nav-item"><a href="/watch/" class="nav-link">Watch</a></li>
            <li class="nav-item"><a href="/give/" class="nav-link">Give</a></li>
        </ul>
    </header>

    <main>
        <section id="home">
            <div class="hero-overlay-text">
                Helping People Find Jesus
            </div>
        </section>

        <section class="content-section">
            <div class="content-text">
                <h2>Welcome to Church</h2>
                <p>We know visiting a new church can be intimidating. We will provide you with the following information so you can feel comfortable and right at home when you visit.</p>
            </div>
            <div class="content-img">
                <img src="https://placehold.co/600x600?text=Welcome+Photo" alt="Welcome to Church">
            </div>
        </section>

        <section class="content-section reverse bg-alt">
            <div class="content-text">
                <h2>Kids Ministry</h2>
                <p>We love kids and do our best to help your children have fun learning about Jesus! Each age group has specific courses and environments that are safe, fun, and interactive. Living Water Kids is committed to partnering with parents to raise the next generation to know and love God!</p>
            </div>
            <div class="content-img">
                <img src="https://placehold.co/600x600?text=Kids+Ministry+Photo" alt="Kids Ministry">
            </div>
        </section>

        <section id="join-us">
            <h2>Join us this Sunday!</h2>
            <p class="join-subtext">We would love for you to join us this Sunday! See our locations and service times below to fellowship with us.</p>
            
            <div class="join-grid">
                <div class="join-card">
                    <img src="https://placehold.co/600x400?text=In+Person+Service" alt="In Person">
                    <h3>IN PERSON</h3>
                    <p>Location and Service Times</p>
                    <br>
                    <a href="/locations/" class="btn">Location Details</a>
                </div>

                <div class="join-card">
                    <img src="https://placehold.co/600x400?text=Online+Service" alt="Online Service">
                    <h3>ONLINE SERVICES</h3>
                    <p>Join us for Living Water Church Online:</p>
                    <p><strong>Sunday at 10:30am (CT)</strong></p>
                    <br>
                    <a href="/watch/" class="btn">Attend Online</a>
                </div>
            </div>
        </section>

        <section id="faq">
            <h2>Frequently Asked Questions</h2>
            <p class="faq-sub">Have questions? We have the answers!</p>
            
            <div class="accordion">
                <div class="accordion-item">
                    <button class="accordion-header">
                        What type of church is Living Water? <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="accordion-content">
                        <p>We are a non-denominational church focused on Biblical teaching and community.</p>
                    </div>
                </div>

                <div class="accordion-item">
                    <button class="accordion-header">
                        What should I wear? <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="accordion-content">
                        <p>Come as you are! Jeans and a t-shirt are great, or dress up if you prefer.</p>
                    </div>
                </div>

                <div class="accordion-item">
                    <button class="accordion-header">
                        What is a service like? <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="accordion-content">
                        <p>Our services typically last 75 minutes and include engaging worship and a message from the Bible.</p>
                    </div>
                </div>

                <div class="accordion-item">
                    <button class="accordion-header">
                        What about my kids? <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="accordion-content">
                        <p>We have safe, fun, and age-appropriate environments for kids from infants through 5th grade.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="sermon" class="bg-alt">
            <div class="sermon-text">
                <h3>RECENT SERMON</h3>
                <p>Listen to the most recent message from Living Water</p>
                <a href="/watch/" class="btn">Sermon Library</a>
            </div>
            <div class="sermon-video">
                <div class="video-wrapper">
                    <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ?si=Placeholder" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="social-icons">
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
        <div class="footer-info">
            <p>Email: info@livingwaterchurch.com</p>
            <p>&copy; 2024 Living Water Church. All rights reserved.</p>
        </div>
    </footer>

    <button id="backToTop" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        // --- 1. Mobile Menu Toggle ---
        const hamburger = document.getElementById('hamburger');
        const navMenu = document.getElementById('navMenu');

        hamburger.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            const icon = hamburger.querySelector('i');
            if(navMenu.classList.contains('active')) {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            } else {
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        });

        // --- 2. Dropdown Logic ---
        const dropdownToggles = document.querySelectorAll('.dropdown-toggle');
        dropdownToggles.forEach(toggle => {
            toggle.addEventListener('click', (e) => {
                e.preventDefault(); 
                const parent = toggle.parentElement;
                const submenu = parent.querySelector('.dropdown-menu');
                document.querySelectorAll('.dropdown-menu').forEach(menu => {
                    if (menu !== submenu) menu.classList.remove('active');
                });
                submenu.classList.toggle('active');
            });
        });
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.nav-item')) {
                document.querySelectorAll('.dropdown-menu').forEach(menu => {
                    menu.classList.remove('active');
                });
            }
        });

        // --- 3. Accordion Logic ---
        const accHeaders = document.querySelectorAll('.accordion-header');
        accHeaders.forEach(header => {
            header.addEventListener('click', () => {
                const item = header.parentElement;
                item.classList.toggle('active');
            });
        });

        // --- 4. Back to Top Logic ---
        const backToTopBtn = document.getElementById('backToTop');
        window.onscroll = function() {
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                backToTopBtn.classList.add('show');
            } else {
                backToTopBtn.classList.remove('show');
            }
        };
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // --- 5. New Theme Logic ---
        const htmlEl = document.documentElement;
        
        // Initial load
        let currentTheme = localStorage.getItem('theme') || 'system';
        updateThemeUI(currentTheme);
        applyTheme(currentTheme);

        function setTheme(theme) {
            currentTheme = theme;
            localStorage.setItem('theme', theme);
            updateThemeUI(theme);
            applyTheme(theme);
        }

        function updateThemeUI(theme) {
            // Remove 'active' class from all buttons
            document.querySelectorAll('.theme-switch-btn').forEach(btn => btn.classList.remove('active'));
            // Add 'active' class to clicked button
            document.getElementById(`btn-${theme}`).classList.add('active');
        }

        function applyTheme(theme) {
            if (theme === 'system') {
                htmlEl.removeAttribute('data-theme');
                // Optional: Check system preference immediately
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    htmlEl.setAttribute('data-theme', 'dark');
                } else {
                    htmlEl.setAttribute('data-theme', 'light');
                }
            } else {
                htmlEl.setAttribute('data-theme', theme);
            }
        }
    </script>
</body>
</html>
